<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Login - BLACKSHOT ORIGIN</title>
  <meta name="theme-color" content="#ff9900">

  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav>
  <h1 class="logo">
    <a href="index.html"
       data-my="BLACKSHOT ORIGIN"
       data-en="BLACKSHOT ORIGIN">
      BLACKSHOT ORIGIN
    </a>
  </h1>

  <div class="lang-switch">
    <button onclick="setLang('my')">MY</button>
    <button onclick="setLang('en')">EN</button>
  </div>
</nav>

<!-- ================= LOGIN SECTION ================= -->
<section class="game-section" style="padding-top:140px">

  <h2 data-my="LOG MASUK AKAUN" data-en="ACCOUNT LOGIN">
    ACCOUNT LOGIN
  </h2>

  <p style="max-width:600px;margin:15px auto 40px;opacity:.85"
     data-my="Log masuk untuk meneruskan permainan"
     data-en="Login to continue playing">
    Login to continue playing
  </p>

  <!-- LOGIN BOX -->
  <div class="register-box" style="max-width:400px;margin:auto;padding:30px;border:1px solid #333;background:#111">
    <form onsubmit="loginUser(event)">

      <input type="text"
             name="username"
             id="username"
             placeholder="Nama Pengguna"
             data-my="Nama Pengguna"
             data-en="Username"
             required>

      <input type="password"
             name="password"
             placeholder="Kata Laluan"
             data-my="Kata Laluan"
             data-en="Password"
             required>

      <button type="submit"
              class="hero-btn play"
              style="width:100%;margin-top:15px"
              data-my="LOG MASUK"
              data-en="LOGIN">
        LOGIN
      </button>

    </form>
  </div>

  <!-- EXTRA LINKS -->
  <div style="margin-top:60px;display:flex;flex-direction:column;gap:20px;align-items:center">
    <a href="register.html"
       class="hero-btn download"
       data-my="DAFTAR AKAUN BARU"
       data-en="CREATE NEW ACCOUNT">
      CREATE NEW ACCOUNT
    </a>

    <a href="index.html"
       class="hero-btn download"
       data-my="‚Üê KEMBALI KE UTAMA"
       data-en="‚Üê BACK TO HOME">
      ‚Üê BACK TO HOME
    </a>
  </div>

</section>

<!-- ================= MUSIC ================= -->
<audio id="bgMusic" loop preload="auto">
  <source src="soundback.mp3" type="audio/mpeg">
</audio>

<button id="musicBtn">üîá MUSIC</button>

<!-- ================= SCRIPT ================= -->
<script>
/* ================= LANGUAGE ================= */
function setLang(lang) {
  document.querySelectorAll("[data-my]").forEach(el => {
    const text = el.getAttribute("data-" + lang);
    if (!text) return;

    if (el.tagName === "INPUT") {
      el.placeholder = text;
    } else {
      el.textContent = text;
    }
  });
  localStorage.setItem("lang", lang);
}

/* ================= LOGIN ================= */
function loginUser(e) {
  e.preventDefault();
  const username = document.getElementById("username").value.trim();
  if (!username) return;

  localStorage.setItem("playerLogin", "true");
  localStorage.setItem("playerName", username);

  window.location.href = "topup.html";
}

/* ================= MUSIC ================= */
const music = document.getElementById("bgMusic");
const btn = document.getElementById("musicBtn");
music.volume = 0.35;

let musicState = localStorage.getItem("music") || "off";

document.addEventListener("click", () => {
  if (musicState === "on") {
    music.play().catch(()=>{});
    btn.textContent = "üîä MUSIC";
  }
}, { once:true });

function toggleMusic() {
  if (music.paused) {
    music.play().catch(()=>{});
    btn.textContent = "üîä MUSIC";
    localStorage.setItem("music","on");
    musicState = "on";
  } else {
    music.pause();
    btn.textContent = "üîá MUSIC";
    localStorage.setItem("music","off");
    musicState = "off";
  }
}

/* ================= INIT ================= */
document.addEventListener("DOMContentLoaded", () => {

  setLang(localStorage.getItem("lang") || "en");

  if (musicState === "on") btn.textContent = "üîä MUSIC";

  /* redirect jika sudah login */
  if (localStorage.getItem("playerLogin") === "true") {
    window.location.href = "topup.html";
  }

});
</script>

</body>
</html>